<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item active">
        <a href="#" routerLink="/modules/attendance/roster/all-roster">All Roster</a>
    </li>
    <li class="breadcrumb-item active">
        <a href="#" routerLink="/modules/attendance/roster/view-roster">View Roster</a>
    </li>
    <li class="breadcrumb-item active">Manage Batches</li>
</ol>

<div class="row">
    <div class="col-md-6">
        <div class="card shadow-sm mb-4">
            <div class="card-body">

                <p class="lead">Roster Details</p>
                
                <div class="row">
                    <div class="col">

                        <form [formGroup]="rosterForm">
                            <div class="row mb-1">
                                <div class="col-md-4"><label class="float-md-end float-sm-start mt-1">Roster ID :</label></div>
                                <div class="col-md-8">
                                    <input formControlName="rosterCode" class="form-control form-control-sm w-100">
                                </div>
                            </div>
        
                            <div class="row mb-1">
                                <div class="col-md-4"><label class="float-md-end float-sm-start mt-1">Roster Name :</label></div>
                                <div class="col-md-8">
                                    <input formControlName="rosterName" class="form-control form-control-sm w-100">
                                </div>
                            </div>
                        </form>
        
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-7">
        <div class="card shadow-sm mb-4">
            <div class="card-body">

                <p class="lead">Roster Batches</p>
                
                <div class="row">
                    <div class="col">

                        <div class="overflow-auto">
                            <table class="table table-bordered table-sm w-100 page-table">
                                <thead>
                                    <tr class="bg-light">
                                        <th width="58%" class="min-width-3">Batch Name</th>
                                        <th width="30%" class="min-width-2">Batch Symbol</th>
                                        <th width="12%" class="p-0 min-width-2">
                                            <button class="btn btn-primary btn-sm w-100" (click)="addBatch.openModal()">
                                                <i class="bi bi-plus"></i>
                                            </button>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let data of rosterBatchListData">
                                        <td>{{data?.data().batch_name}}</td>
                                        <td>{{data?.data().batch_symbol}}</td>
                                        <td class="p-0">
                                            <button class="btn btn-sm border btn-success w-50" (click)="openEditItem(data)">
                                                <i class="bi bi-pen"></i>
                                            </button>
                                            <button class="btn btn-sm border btn-danger w-50" (click)="confirmDelete(data.id)">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>        

            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-7">
        <div class="card shadow-sm mb-4">
            <div class="card-body">

                <p class="lead">Roster Personnel</p>                                

                <!-- manage personnel component -->

                <app-manage-personnel></app-manage-personnel>

            </div>
        </div>
    </div>
</div>

<!-- add and edit batch modal components -->

<app-add-batch #addBatchComponentReference (saveItemEvent)="createRosterBatch($event)"></app-add-batch>

<app-edit-batch #editBatchComponentReference (saveItemEvent)="updateRosterBatch($event)"></app-edit-batch>

<!-- connection toast component -->

<app-connection-toast #connectionToastComponentReference></app-connection-toast>

<!-- delete confirmation modal component -->

<app-delete-modal-one #deleteModalOneComponentReference (confirmEvent)="deleteRosterBatch()"></app-delete-modal-one>
